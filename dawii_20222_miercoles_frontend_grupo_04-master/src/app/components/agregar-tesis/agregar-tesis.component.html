<app-menu></app-menu>
<div style="padding: 2%">
    <form class="content" (ngSubmit)="registraTesis()" [formGroup]="formsRegistra" >
        <div class="submit-form" >
            <div class="row">
                <div class="col-lg-12">
                    <h4>Registra Tesis</h4>
                </div>
            </div>

            <div class="row" style="margin-top: 3%">
                <div class="col-lg-4">
                    <label for="titulo">Título</label>
                    <input formControlName="validaTitulo" type="text" class="form-control" name="titulo" id="titulo" [(ngModel)] ="objTesis.titulo" placeholder="Ingrese el título"/>
                    <div *ngIf="submitted && formsRegistra.controls.validaTitulo.errors" class="invalid">
                        <li>El título es obligatorio</li>
                        <li>El título es de 20 a 200 caracteres</li>
                    </div>
                </div>
            
                <div class="col-lg-2">
                    <label for="tema">Tema</label>
                    <input formControlName="validaTema" type="text" class="form-control" name="tema" id="tema" [(ngModel)] ="objTesis.tema" placeholder="Ingrese el tema"/>
                    <div *ngIf="submitted && formsRegistra.controls.validaTema.errors" class="invalid">
                        <li>El tema es obligatorio</li>
                        <li>El tema es de 6 a 100 caracteres</li>
                    </div>
                </div>
            </div>

            <div class="row" style="margin-top: 3%">
                <div class="col-lg-3">
                    <label for="fechaCreacion">Fecha de Creación</label>
                    <input formControlName="validaFechaCreacion" type="date" class="form-control" name="fechaCreacion" id="fechaCreacion" [(ngModel)] ="objTesis.fechaCreacion" placeholder="Ingrese la fecha de creación" />
                    <div *ngIf="submitted && formsRegistra.controls.validaFechaCreacion.errors" class="invalid">
                        <li>La fecha es obligatoria</li>
                    </div>
                </div>
      
                <div class="form-group col-md-3">
                    <label for="alumno">Alumno</label>
                    <select formControlName="validaAlumno"  id="alumno" name="alumno" class="form-control" [(ngModel)] ="objTesis.alumno!.idAlumno" placeholder="Seleccione el alumno">
                        <option value="-1"> [Seleccione] </option>   
                        <option *ngFor="let x of lstAlumno" value="{{ x.idAlumno }}">
                            {{ x.nombres }} {{ x.apellidos }}
                        </option>
                    </select>
                    <div *ngIf="submitted && formsRegistra.controls.validaAlumno.errors" class="invalid">
                        <li>El alumno es obligatorio</li>
                    </div>
                </div>
            </div>

            <div class="row" style="margin-top: 1%">
                <div class="col-lg-12">
                    <button class="btn btn-success" [disabled]="submitted && formsRegistra.invalid">Registrar</button>
                </div>
            </div>
        </div>
    </form>
</div>

